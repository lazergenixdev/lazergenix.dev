<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="initial-scale=0.5"><link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêç</text></svg>"><title>Snake Game</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/firacode@6.2.0/distr/fira_code.css"><style>body,html{background-color:#000;color:#fff;height:100%;margin:0;font-family:'Fira Code',monospace;font-optical-sizing:auto;font-weight:400;font-style:normal;overflow-x:hidden}body{display:flex;flex-direction:column}header{text-align:center}a{color:#fff}a:hover{color:#929292}canvas{display:flex;flex:1}footer{color:gray;text-align:center;margin-top:100px;margin-bottom:10px}</style></head><body><header><h1><a href="/">lazergenix.dev</a> / <a href="/games/">Games</a></h1></header><canvas id="main"></canvas><footer>Copyright (c) 2025 lazergenixdev</footer><script type="module">"use strict";const shaders={tri_col_json:{"parameters":[{"name":"camera","binding":{"kind":"subElementRegisterSpace","index":0},"type":{"kind":"parameterBlock","elementType":{"kind":"struct","name":"Camera","fields":[{"name":"mvp","type":{"kind":"matrix","rowCount":4,"columnCount":4,"elementType":{"kind":"scalar","scalarType":"float32"}},"binding":{"kind":"uniform","offset":0,"size":64,"elementStride":0}}]},"containerVarLayout":{"bindings":[{"kind":"descriptorTableSlot","index":0},{"kind":"subElementRegisterSpace","index":0}]},"elementVarLayout":{"type":{"kind":"struct","name":"Camera","fields":[{"name":"mvp","type":{"kind":"matrix","rowCount":4,"columnCount":4,"elementType":{"kind":"scalar","scalarType":"float32"}},"binding":{"kind":"uniform","offset":0,"size":64,"elementStride":0}}]},"binding":{"kind":"uniform","offset":0,"size":64,"elementStride":0}}}}],"entryPoints":[{"name":"vs_main","stage":"vertex","parameters":[{"name":"input","stage":"vertex","binding":{"kind":"varyingInput","index":0,"count":2},"type":{"kind":"struct","name":"Vertex","fields":[{"name":"position","type":{"kind":"vector","elementCount":2,"elementType":{"kind":"scalar","scalarType":"float32"}},"stage":"vertex","binding":{"kind":"varyingInput","index":0}},{"name":"color","type":{"kind":"vector","elementCount":4,"elementType":{"kind":"scalar","scalarType":"float32"}},"stage":"vertex","binding":{"kind":"varyingInput","index":1}}]}}],"result":{"stage":"vertex","binding":{"kind":"varyingOutput","index":0},"type":{"kind":"struct","name":"VOut","fields":[{"name":"position","type":{"kind":"vector","elementCount":4,"elementType":{"kind":"scalar","scalarType":"float32"}},"semanticName":"SV_POSITION"},{"name":"color","type":{"kind":"vector","elementCount":4,"elementType":{"kind":"scalar","scalarType":"float32"}},"stage":"vertex","binding":{"kind":"varyingOutput","index":0}}]}},"bindings":[{"name":"camera","binding":{"kind":"subElementRegisterSpace","index":0}}]},{"name":"fs_main","stage":"fragment","parameters":[{"name":"input","stage":"fragment","binding":{"kind":"varyingInput","index":0},"type":{"kind":"struct","name":"VOut","fields":[{"name":"position","type":{"kind":"vector","elementCount":4,"elementType":{"kind":"scalar","scalarType":"float32"}},"semanticName":"SV_POSITION"},{"name":"color","type":{"kind":"vector","elementCount":4,"elementType":{"kind":"scalar","scalarType":"float32"}},"stage":"fragment","binding":{"kind":"varyingInput","index":0}}]}}],"result":{"stage":"fragment","binding":{"kind":"varyingOutput","index":0},"semanticName":"SV_TARGET","type":{"kind":"vector","elementCount":4,"elementType":{"kind":"scalar","scalarType":"float32"}}},"bindings":[{"name":"camera","binding":{"kind":"subElementRegisterSpace","index":0}}]}]},tri_col_wgsl:`struct B{b:array<vec4<f32>,4>}struct C{c:B}struct D{@builtin(position)d:vec4<f32>,@location(0)E:vec4<f32>}struct F{@location(0)f:vec2<f32>,@location(1)G:vec4<f32>}struct H{@location(0)h:vec4<f32>}struct I{@location(0)i:vec4<f32>}@group(0)@binding(0)var<uniform>J:C;@vertex fn vs_main(k:F)->D{var K:D;let _e12=J.c.b[0].x;let _e18=J.c.b[1].x;let _e24=J.c.b[2].x;let _e30=J.c.b[3].x;let _e36=J.c.b[0].y;let _e42=J.c.b[1].y;let _e48=J.c.b[2].y;let _e54=J.c.b[3].y;let _e60=J.c.b[0].z;let _e66=J.c.b[1].z;let _e72=J.c.b[2].z;let _e78=J.c.b[3].z;let _e84=J.c.b[0].w;let _e90=J.c.b[1].w;let _e96=J.c.b[2].w;let _e102=J.c.b[3].w;K.d=(vec4<f32>(k.f,vec2(1f))*mat4x4<f32>(vec4<f32>(_e12,_e18,_e24,_e30),vec4<f32>(_e36,_e42,_e48,_e54),vec4<f32>(_e60,_e66,_e72,_e78),vec4<f32>(_e84,_e90,_e96,_e102)));K.E=k.G;let _e111=K;return _e111;}@fragment fn fs_main(M:I,@builtin(position)m:vec4<f32>)->H{var l:H;l=H(M.i);let _e5=l;return _e5;}`,};const e=document.getElementById("main");function t(e){throw alert(e),e}navigator.gpu||t(Error("WebGPU not supported."));const n=await navigator.gpu.requestAdapter();n||t(Error("Couldn't request WebGPU adapter."));const r=await n.requestDevice(),o=e.getContext("webgpu");o||t(Error("Not able to create WebGPU context.")),o.configure({device:r,format:navigator.gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"});const i={0:-1,1:-1},a=new class{constructor(){this.pools={}}push(e,t){let n=this.pools[e];n||(n=this.pools[e]=[]);const r=n.length;return n.push(t),r}get(e,t){return this.pools[e][t]}};let s=0,u=null;function c(){e.width=e.clientWidth,e.height=e.clientHeight,s|=1}function d(e,t){const n=new Uint8Array(u.memory.buffer,e,t);return(new TextDecoder).decode(n)}function f(e,t,n,r){const o=new DataView(e.buffer,t);o.setUint32(0,n,!0),o.setUint32(4,r,!0)}function p(e){let t=0;const n=[],r={float32:4};function o(e){if("varyingInput"==e.binding.kind)if("struct"==e.type.kind)for(const t of e.type.fields)o(t);else if("vector"==e.type.kind){const o=e.type.elementType.scalarType+"x"+e.type.elementCount.toString();n.push({shaderLocation:e.binding.index,offset:t,format:o}),t+=e.type.elementCount*r[e.type.elementType.scalarType]}else"scalar"==e.type.kind?(n.push({shaderLocation:e.binding.index,offset:t,format:e.type.scalarType}),t+=r[e.type.scalarType]):console.error("Unknown Type:",e.type.kind)}for(const t of e.entryPoints)if("vs_main"==t.name)for(const e of t.parameters)o(e);return{arrayStride:t,attributes:n}}c(),window.addEventListener("resize",()=>c());let l=null,g=null;WebAssembly.instantiate(Uint8Array.from(atob("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akHAAEEAEAUgACAAQdABakGAAfwKAABBkAsgAEGAAfwKAABBsAxClYCAgNACNwMAQQFAACEBQaQMQYDAADYCAEGsDEEDNgIAQaAMIAFBEHQiATYCAEGoDCABNgIAQbgMQdAMKAIAs0GwDCgCAEEBarKVIgVB1AwoAgCzQbQMKAIAQQFqspUiBiAFIAZdGzgCAEGcDEEANgIAQZoMQQA6AABBmAxBADsBACABQoCAgICgATcDECABQoCAgICgATcDCCABQoCAgICgATcDAEGQDEKBgICAEDcDACAAQYgBahAOIABB0AJqJAALqQIBB38jAEEQayICJAAgACgCKCEDIAAoAiQhASACQgA3AwggAQRAAkAgAkEIaiEGA0AgA0EAIAZBCCAAIAERAgAgAigCCCAAKAIoIQMgACgCJCEBQbAMKAIAIAJCADcDCHAhBQJAIAEEQCADQQAgBkEIIAAgARECACACKAIIQbQMKAIAcCEHQawMKAIAIgFBACABQQBKG0EBaiEDQagMKAIAIQEDQCADQQFrIgMEQCABIgRBCGohASAFIAQoAgBHDQEgBEEEaigCACAHRw0BDAMLC0HEDCAHNgIAQcAMIAU2AgAgAkEQaiQADwsMAgsgACgCKCEDIAAoAiQhASACQgA3AwggAQ0ACwsLQckKQRFBtwlBKkHwCSAAIAAoAhAiAEECIAAbEQMAAAtHAQF/IwBBIGsiByQAIAcgAzYCFCAHIAI2AhAgByABNgIMIAcgADYCCCAHQgA3AhggB0EIahAQIASsEBEgBawQESAGrBARAAsYACAANAIIEBcgACgCDCIABEAgAKwQFwsLLQIBfgF/IAAgAEI/hyIBhSABfSIAQgpaBEADQCAAQuMAViAAQgqAIQANAAsLC7cCAQF/AkACQCAAKAAIQQFHDQAgACgAAEEBRw0AQZAMKAIAIQECQAJAAkACQAJAAkACQAJAAkAgACgABEEBaw5XAQMAAgcICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAEICAMICAgICAgICAYECAgIBQIICAgACAtBAiEBDAcLQQAhAQwGC0EDIQEMBQtBASEBDAQLEBMMAwtBmgxBAToAAAwCC0GkDCgCACIAQQBMDQNBrAxBATYCAEGoDEGg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AgwgACABOAIIIAAgBjgCBCAAIAg4AgAgAEMAAIA/OAIUQYAMKAIAQQFqIgBB9AsoAgAiA08NB0HwCygCACAAQRhsaiIAQwAAgD84AhQgAEOamZk+OAIQIAAgAjgCDCAAIAE4AgggACAFOAIEIAAgCDgCAEGADCgCAEECaiIAQfQLKAIAIgNPDQhB8AsoAgAgAEEYbGoiAEMAAIA/OAIUIABDmpmZPjgCECAAIAI4AgwgACABOAIIIAAgBTgCBCAAIAc4AgBBgAwoAgBBA2oiAEH0CygCACIDTw0JQfALKAIAIABBGGxqIgBDAACAPzgCFCAAQ5qZmT44AhAgACACOAIMIAAgATgCCCAAIAY4AgQgACAHOAIAQYQMQYQMKAIAQQZqNgIAQYAMQYAMKAIAQQRqNgIADwtBiApBwABByABBDSADIAQQFgALQYgKQcAAQckAQQ0gACAEEBYAC0GICkHAAEHKAEENIAAgAxAWAAtBiApBwABBywBBDSAAIAMQFgALQYgKQcAAQcwAQQ0gACADEBYAC0GICkHAAEHNAEENIAAgAxAWAAtBiApBwABBzwBBDiAAIAMQFgALQYgKQcAAQdAAQQ4gACADEBYAC0GICkHAAEHRAEEOIAAgAxAWAAtBiApBwABB0gBBDiAAIAMQFgALQgEBfyMAQSBrIgYkACAGIAM2AhQgBiACNgIQIAYgATYCDCAGIAA2AgggBkIANwIYIAZBCGoQECAErBARIAWsEBEACx4BAX8gAEIKWgRAA0AgAELjAFYgAEIKgCEADQALCwsDAAALC4QDAgBBgAgL6QJDOi9kZXYvb2Rpbi13aW5kb3dzLWFtZDY0LWRldi0yMDI1LTA0L2NvcmUvc2xpY2Uvc2xpY2Uub2RpbgBDOi9kZXYvb2Rpbi13aW5kb3dzLWFtZDY0LWRldi0yMDI1LTA0L2NvcmUvbWF0aC9yYW5kL3JhbmQub2RpbgB0cmlfY29sAEM6L2Rldi9HaXRIdWIvbGF6ZXJnZW5peC5kZXYvZ2FtZXMvc25ha2Uvc25ha2Uub2RpbgB1bmluaXRpYWxpemVkIGdlbi9jb250ZXh0LnJhbmRvbV9nZW5lcmF0b3IAX3JhbmRvbV91NjQAAAA8BAAAPgAAAD4AAAACAAAA4gQAAAsAAABDOi9kZXYvR2l0SHViL2xhemVyZ2VuaXguZGV2L2dhbWVzL2VuZ2luZS9ncmFwaGljcy9yZW5kZXJlci5vZGluAHJ1bnRpbWUgYXNzZXJ0aW9uAAABAAAAAAAAAAMAAAACAEH0CgsN/////wEAAAD/////AQB8D3RhcmdldF9mZWF0dXJlcwcrD211dGFibGUtZ2xvYmFscysTbm9udHJhcHBpbmctZnB0b2ludCsLYnVsay1tZW1vcnkrCHNpZ24tZXh0Kw9yZWZlcmVuY2UtdHlwZXMrCm11bHRpdmFsdWUrD2J1bGstbWVtb3J5LW9wdA=="),e=>e.charCodeAt(0)),{env:{__link:(e,t)=>i[e]=t,__rand:(e,t)=>crypto.getRandomValues(new Uint32Array(u.memory.buffer,e,t)),wgpu_buffer_create:(e,t)=>a.push(GPUBuffer,r.createBuffer({size:e,usage:t})),wgpu_buffer_write_raw:(e,t,n,o)=>{r.queue.writeBuffer(a.get(GPUBuffer,e),o,new DataView(u.memory.buffer,t,n))},wgpu_pipeline_create:(e,t)=>{const n=d(e,t),o=r.createShaderModule({code:shaders[n+"_wgsl"]}),i=navigator.gpu.getPreferredCanvasFormat();return a.push(GPURenderPipeline,r.createRenderPipeline({layout:"auto",vertex:{module:o,entryPoint:"vs_main",buffers:[p(shaders[n+"_json"])]},fragment:{module:o,entryPoint:"fs_main",targets:[{format:i}]},primitive:{topology:"triangle-list"}}))},wgpu_bind_group_create:(e,t,n,o)=>{const i=new DataView(u.memory.buffer,n),s=[];for(let e=0;e<o;++e){const t=i.getUint32(12*e,!0),n=i.getUint32(12*e+4,!0),r=i.getUint32(12*e+8,!0),o={binding:t};switch(r){case 1:o.resource={buffer:a.get(GPUBuffer,n)};break;case 2:case 3:break;default:console.error("Unknown reource type",r)}s.push(o)}const c=a.get(GPURenderPipeline,e);return c instanceof Promise?a.push(GPUBindGroup,c.then(e=>r.createBindGroup({layout:e.getBindGroupLayout(t),entries:s}))):a.push(GPUBindGroup,r.createBindGroup({layout:c.getBindGroupLayout(t),entries:s}))},wgpu_bind_pipeline:e=>g.setPipeline(a.get(GPURenderPipeline,e)),wgpu_bind_bind_group:(e,t)=>g.setBindGroup(e,a.get(GPUBindGroup,t)),wgpu_bind_vertex_buffer:e=>g.setVertexBuffer(0,a.get(GPUBuffer,e)),wgpu_bind_index_buffer:e=>g.setIndexBuffer(a.get(GPUBuffer,e),"uint32"),wgpu_draw:(e,t,n,r)=>g.draw(e,t,n,r),wgpu_draw_indexed:(e,t,n,r,o)=>g.drawIndexed(e,t,n,r,o),log:(e,t)=>console.log(d(e,t)),cosf:Math.cos,sinf:Math.sin,debug1:(e,t,n,r)=>{},debug2:(e,t,n,r,o)=>{},debug3:(e,t,n,r,o,i)=>{},debug4:(e,t,n,r,o,i,a)=>{}}}).then(async t=>{function n(e,t){let n;t.startsWith("Key")&&(n=t.charCodeAt(3)),null==n&&(n={ArrowLeft:1,ArrowRight:2,ArrowUp:3,ArrowDown:4,Space:5}[t]);const r=new DataView(u.memory.buffer,0);r.setUint32(0,e,!0),r.setUint32(4,n,!0),r.setUint32(8,1,!0),u.game_handle_event(0)}u=t.instance.exports,u.__engine_setup(),f(u.memory,i[0],e.width,e.height),u.game_init(),function(e){for(const[t,n]of Object.entries(e))window.addEventListener(t,n)}({mousemove:t=>{const n=e.getBoundingClientRect();f(u.memory,i[1],t.clientX-n.left,t.clientY-n.top)},keydown:e=>{e.repeat||n(1,e.code)},keyup:e=>n(0,e.code)}),await async function(e){return await Promise.all(e.map(async(t,n)=>{e[n]=await t}))}(a.pools[GPUBindGroup]),s=0;let c=performance.now();requestAnimationFrame(function t(n){const a=(n-c)/1e3;if(c=n,l=r.createCommandEncoder(),g=l.beginRenderPass({colorAttachments:[{view:o.getCurrentTexture().createView(),clearValue:{r:0,g:0,b:0,a:1},loadOp:"clear",storeOp:"store"}]}),1&s){const t=new DataView(u.memory.buffer,i[0]);t.setUint32(0,e.width,!0),t.setUint32(4,e.height,!0)}u.game_loop(a,s),g.end(),r.queue.submit([l.finish()]),s=0,requestAnimationFrame(t)})});</script></body></html>